Table users {
  id int [pk, increment, note: "用户ID，主键，自增"] // 用户ID，主键，自增
  username varchar(50) [unique, not null, note: "用户名，唯一，不为空"] // 用户名，唯一，不为空
  password varchar(255) [not null, note: "密码，不为空"] // 密码，不为空
  email varchar(100) [unique, not null, note: "邮箱，唯一，不为空"] // 邮箱，唯一，不为空
  created_at timestamp [default: `current_timestamp`, note: "创建时间，默认当前时间"] // 创建时间，默认当前时间
}

Table articles {
  id int [pk, increment, note: "文章ID，主键，自增"] // 文章ID，主键，自增
  title varchar(255) [not null, note: "标题，不为空"] // 标题，不为空
  content text [not null, note: "内容，不为空"] // 内容，不为空
  author_id int [not null, ref: > users.id, note: "作者ID，外键引用 users 表的 id"] // 作者ID，外键引用 users 表的 id
  created_at timestamp [default: `current_timestamp`, note: "创建时间，默认当前时间"] // 创建时间，默认当前时间
}

Table comments {
  id int [pk, increment, note: "评论ID，主键，自增"] // 评论ID，主键，自增
  article_id int [not null, ref: > articles.id, note: "文章ID，外键引用 articles 表的 id"] // 文章ID，外键引用 articles 表的 id
  user_id int [not null, ref: > users.id, note: "用户ID，外键引用 users 表的 id"] // 用户ID，外键引用 users 表的 id
  content text [not null, note: "评论内容，不为空"] // 评论内容，不为空
  parent_comment_id int [note: "被引用的评论ID，允许为空"] // 被引用的评论ID，允许为空
  created_at timestamp [default: `current_timestamp`, note: "创建时间，默认当前时间"] // 创建时间，默认当前时间
}

Table notifications {
  id int [pk, increment, note: "通知ID，主键，自增"] // 通知ID，主键，自增
  user_id int [not null, ref: > users.id, note: "用户ID，外键引用 users 表的 id"] // 用户ID，外键引用 users 表的 id
  message text [not null, note: "消息内容，不为空"] // 消息内容，不为空
  read boolean [default: false, note: "是否已读，默认未读"] // 是否已读，默认未读
  created_at timestamp [default: `current_timestamp`, note: "创建时间，默认当前时间"] // 创建时间，默认当前时间
}

Table search_index {
  id int [pk, increment, note: "索引ID，主键，自增"] // 索引ID，主键，自增
  article_id int [not null, ref: > articles.id, note: "文章ID，外键引用 articles 表的 id"] // 文章ID，外键引用 articles 表的 id
  content text [not null, note: "索引内容，不为空"] // 索引内容，不为空
  created_at timestamp [default: `current_timestamp`, note: "创建时间，默认当前时间"] // 创建时间，默认当前时间
}

Table files {
  id int [pk, increment, note: "文件ID，主键，自增"] // 文件ID，主键，自增
  filename varchar(255) [not null, note: "文件名，不为空"] // 文件名，不为空
  filepath varchar(255) [not null, note: "文件路径，不为空"] // 文件路径，不为空
  user_id int [not null, ref: > users.id, note: "用户ID，外键引用 users 表的 id"] // 用户ID，外键引用 users 表的 id
  created_at timestamp [default: `current_timestamp`, note: "创建时间，默认当前时间"] // 创建时间，默认当前时间
}

Table analytics {
  id int [pk, increment, note: "分析ID，主键，自增"] // 分析ID，主键，自增
  user_id int [not null, ref: > users.id, note: "用户ID，外键引用 users 表的 id"] // 用户ID，外键引用 users 表的 id
  action varchar(255) [not null, note: "操作类型，不为空"] // 操作类型，不为空
  created_at timestamp [default: `current_timestamp`, note: "创建时间，默认当前时间"] // 创建时间，默认当前时间
}